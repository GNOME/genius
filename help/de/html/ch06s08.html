<html><head><meta charset="UTF-8"><title>Referenzen</title><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Genius-Handbuch"><link rel="up" href="ch06.html" title="Chapter 6. Programmierung mit GEL"><link rel="prev" href="ch06s07.html" title="Rückgabewerte"><link rel="next" href="ch06s09.html" title="Lvalues (linke Werte)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Referenzen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch06s07.html">Prev</a> </td><th width="60%" align="center">Chapter 6. Programmierung mit GEL</th><td width="20%" align="right"> <a accesskey="n" href="ch06s09.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="genius-gel-references"></a>Referenzen</h2></div></div></div><p lang="en">
	It may be necessary for some functions to return more than one value.
	This may be accomplished by returning a vector of values, but many
	times it is convenient to use passing a reference to a variable.
	You pass a reference to a variable to a function, and the function
	will set the variable for you using a dereference.  You do not have
	to use references only for this purpose, but this is their main use.
      </p><p lang="en">
	When using functions that return values through references
	in the argument list, just pass the variable name with an ampersand.
	For example the following code will compute an eigenvalue of a matrix
	<code class="varname">A</code> with initial eigenvector guess
	<code class="varname">x</code>, and store the computed eigenvector
	into the variable named <code class="varname">v</code>:
</p><pre lang="en" class="programlisting">RayleighQuotientIteration (A,x,0.001,100,&amp;v)
</pre><p lang="en">
      </p><p lang="en">
The details of how references work and the syntax is similar to the C language.
The operator
<code class="literal">&amp;</code> references a variable
and <code class="literal">*</code> dereferences a variable. Both can only be applied to an identifier,
so <code class="literal">**a</code> is not a legal expression in GEL.
      </p><p lang="en">
References are best explained by an example:
</p><pre lang="en" class="programlisting">a=1;
b=&amp;a;
*b=2;
</pre><p lang="en">
now <code class="varname">a</code> contains 2.  You can also reference functions:
</p><pre lang="en" class="programlisting">function f(x) = x+1;
t=&amp;f;
*t(3)
</pre><p lang="en">
gives us 4.
      </p><p lang="en">The first time a variable is referenced, it is created in the current
      context unless it exists.  So if we make a function that sets the variable to 2,
      such as
      <strong class="userinput"><code>function f(k) = (*k=2)</code></strong>, then the
      call 
      <strong class="userinput"><code>f(&amp;n)</code></strong> will declare a new variable <code class="varname">n</code>
      then the function
      <code class="function">f</code> will run and set it to 2.  So there is
      no need to write something like
      <strong class="userinput"><code>n=0;f(&amp;n)</code></strong>.  A new variable in the current
      context is created even if a
      variable exists in a higher context, such as in the global context.
      So for example after
      </p><pre lang="en" class="programlisting">n=3;
function f(k) = (*k=2);
function g() = (f(&amp;n);print(n));
g();
</pre><p lang="en">
      the variable <code class="varname">n</code> is still 3 and not 2.  That is because inside
      <code class="function">g</code>, when <code class="varname">n</code> is referenced, it is a new
      variable in the context of <code class="function">g</code>.  The function
      <code class="function">f</code> then sets this <code class="varname">n</code> to 2,
      and then 2 is printed, but the <code class="varname">n</code> in the global context
      is not touched.  So we can use references to get values out of functions and
      we do not need to explicitly declare them, nor do we have to worry about messing up
      global variables that the user might be using for something else.
      </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch06s07.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch06.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch06s09.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Rückgabewerte </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Lvalues (linke Werte)</td></tr></table></div></body></html>
