<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Smyčky</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Příručka k aplikaci Genius"><link rel="up" href="ch06.html" title="Kapitola 6. Programování s jazykem GEL"><link rel="prev" href="ch06.html" title="Kapitola 6. Programování s jazykem GEL"><link rel="next" href="ch06s03.html" title="Součty a součiny"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Smyčky</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch06.html">Předcházející</a> </td><th width="60%" align="center">Kapitola 6. Programování s jazykem GEL</th><td width="20%" align="right"> <a accesskey="n" href="ch06s03.html">Další</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="genius-gel-loops"></a>Smyčky</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="genius-gel-loops-while"></a>Smyčky while</h3></div></div></div><p>Syntaxe: </p><pre class="programlisting">while &lt;expression1&gt; do &lt;expression2&gt;
until &lt;expression1&gt; do &lt;expression2&gt;
do &lt;expression2&gt; while &lt;expression1&gt;
do &lt;expression2&gt; until &lt;expression1&gt;</pre><p> Je to podobné jako v jiných jazycích. Jelikož v jazyce GEL jde ve skutečnosti jen o výraz, musí vracet nějakou hodnotu a proto konstrukce vrací výsledek poslední iterace nebo <code class="literal">NULL</code>, pokud žádná iterace neproběhne. V pravdivostních výrazech se <code class="literal">=</code> převádí na <code class="literal">==</code>, stejně jako u příkazu <code class="literal">if</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="genius-gel-loops-for"></a>Smyčky for</h3></div></div></div><p>Syntaxe: </p><pre class="programlisting">for &lt;identifier&gt; = &lt;from&gt; to &lt;to&gt; do &lt;body&gt;
for &lt;identifier&gt; = &lt;from&gt; to &lt;to&gt; by &lt;increment&gt; do &lt;body&gt;</pre><p> Smyčka s identifikátorem, který je postupně nastaven na všechny hodnoty od <code class="literal">&lt;from&gt;</code> do <code class="literal">&lt;to&gt;</code>, volitelně se použije jiný krok než 1. Jedná se o rychlejší, hezčí a kompaktnější řešení, než je  normální smyčka uvedená výše, ale je méně flexibilní. Identifikátor musí být identifikátor a nemůže být dereferencí. Hodnota identifikátoru je poslední hodnotou identifikátoru nebo <code class="literal">&lt;from&gt;</code>, pokud tělo nebylo vůbec vyhodnoceno. Je zaručeno, že proměnná bude po smyčce inicializována, takže ji můžete bezpečně použít. <code class="literal">&lt;from&gt;</code>, <code class="literal">&lt;to&gt;</code> a <code class="literal">&lt;increment&gt;</code> nesmí být komplexní hodnoty. Není zaručeno, že bude dosaženo <code class="literal">&lt;to&gt;</code>, ale rozhodně nebude nikdy překročeno, například následující kód vypíše lichá čísla od 1 do 19: </p><pre class="programlisting">for i = 1 to 20 by 2 do print(i)
</pre><p>Pokud je jedna z hodnot desetinné číslo, je závěrečná kontrola prováděna v rozmezí 2^-20 z velikosti kroku. To znamená, že i když se překročí 2^-20 krát více, stále ještě bude provedena poslední iterace. Tímto způsobem dá </p><pre class="programlisting">for x = 0 to 1 by 0.1 do print(x)
</pre><p> očekávané výsledky, i když přičtením desetkrát 0,1 dostaneme o něco víc než 1,0 z důvodu, jakým jsou desetinná čísla uložena ve dvojkové soustavě (není to 0,1, skutečné uložené číslo je nepatrně větší). Není to sice perfektní řešení, ale stačí pro většinu případů. Jestli se chcete vyhnout tomuto problému, použijte racionální číslo, například: </p><pre class="programlisting">for x = 0 to 1 by 1/10 do print(x)
</pre><p>. Tato kontrola se dělá až do verze 1.0.16, takže provádění kódu se u starších verzí může lišit.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="genius-gel-loops-foreach"></a>Smyčky foreach</h3></div></div></div><p>Syntaxe: </p><pre class="programlisting">for &lt;identifier&gt; in &lt;matrix&gt; do &lt;body&gt;</pre><p> Pro každý prvek matice, postupně řádek po řádku zleva doprava, se provede tělo s identifikátorem nastaveným na aktuální prvek. Když chcete vypsat čísla 1,2,3 a 4 právě v takovémto pořadí, můžete to udělat takto: </p><pre class="programlisting">for n in [1,2:3,4] do print(n)
</pre><p> Jestli potřebujete projít řádky a sloupce matice, můžete použít funkce RowsOf a ColumnsOf, které vrací vektor řádků nebo sloupců matice. Takže </p><pre class="programlisting">for n in RowsOf ([1,2:3,4]) do print(n)
</pre><p> vypíše [1,2] a pak [3,4].</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="genius-gel-loops-break-continue"></a>Break a continue</h3></div></div></div><p>Ve smyčkách můžete použít také příkazy <code class="literal">break</code> a <code class="literal">continue</code>. Příkaz <code class="literal">continue</code> posune smyčku na začátek následující iterace, zatímco příkaz <code class="literal">break</code> aktuální smyčku ukončí. </p><pre class="programlisting">while(&lt;expression1&gt;) do (
  if(&lt;expression2&gt;) break
  else if(&lt;expression3&gt;) continue;
  &lt;expression4&gt;
)
</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch06.html">Předcházející</a> </td><td width="20%" align="center"><a accesskey="u" href="ch06.html">Nahoru</a></td><td width="40%" align="right"> <a accesskey="n" href="ch06s03.html">Další</a></td></tr><tr><td width="40%" align="left" valign="top">Kapitola 6. Programování s jazykem GEL </td><td width="20%" align="center"><a accesskey="h" href="index.html">Domů</a></td><td width="40%" align="right" valign="top"> Součty a součiny</td></tr></table></div></body></html>
