<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Bucles</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Manual de Genius"><link rel="up" href="ch06.html" title="Capítulo 6. Programar con GEL"><link rel="prev" href="ch06.html" title="Capítulo 6. Programar con GEL"><link rel="next" href="ch06s03.html" title="Sumas y productos"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Bucles</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch06.html">Anterior</a> </td><th width="60%" align="center">Capítulo 6. Programar con GEL</th><td width="20%" align="right"> <a accesskey="n" href="ch06s03.html">Siguiente</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="genius-gel-loops"></a>Bucles</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="genius-gel-loops-while"></a>Bucles «while»</h3></div></div></div><p>Sintaxis: </p><pre class="programlisting">while &lt;expression1&gt; do &lt;expression2&gt;
until &lt;expression1&gt; do &lt;expression2&gt;
do &lt;expression2&gt; while &lt;expression1&gt;
do &lt;expression2&gt; until &lt;expression1&gt;</pre><p> son similares a otros lenguajes. Sin embargo, puesto que GEL es una única expresión que debe devolver algo, estas construcciones devolverán el resultado de la última iteración o <code class="literal">NULL</code> si no se realiza ninguna operación. En la expresión booleana, <code class="literal">=</code> se traduce a <code class="literal">==</code> sólo para la sentencia <code class="literal">if</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="genius-gel-loops-for"></a>Bucles «for»</h3></div></div></div><p>Sintaxis: </p><pre class="programlisting">for &lt;identifier&gt; = &lt;from&gt; to &lt;to&gt; do &lt;body&gt;
for &lt;identifier&gt; = &lt;from&gt; to &lt;to&gt; by &lt;increment&gt; do &lt;body&gt;</pre><p> bucle en el que el identificador es un conjunto de todos los valores desde <code class="literal">&lt;from&gt;</code> hasta <code class="literal">&lt;to&gt;</code>, opcionalmente se puede usar un incremento distinto de 1. Dichos bucles son más rápidos, cómodos y compactos que los bucles normales descritos previamente pero menos flexibles. El identificador se debe tratar como tal y no se puede eliminar su referencia. El valor del identificador corresponde al último valor de éste o a <code class="literal">&lt;from&gt;</code> si el cuerpo del bucle no se ha evaluado todavía. Se garantiza que la variable permanezca inicializada tras el bucle, de modo que puede usarla sin problemas. Además, <code class="literal">&lt;from&gt;</code>, <code class="literal">&lt;to&gt;</code> e <code class="literal">&lt;increment&gt;</code> no pueden ser valores complejos. Tampoco se garantiza que se alcance <code class="literal">&lt;to&gt;</code>, pero sí que nunca se rebasará. El ejemplo siguiente imprime todos los números pares desde 1 a 19: </p><pre class="programlisting">for i = 1 to 20 by 2 do print(i)
</pre><p>Cuando uno de los valores es un número de coma flotante, la verificación final se realiza con un paso de 2 ^-20. Es decir, incluso si se sobrestima 2 ^-20 veces el «por» por encima, todavía se ejecuta la última iteración. De este modo </p><pre class="programlisting">for x = 0 to 1 by 0.1 do print(x)
</pre><p> hace lo esperado aunque sumar 0,1 diez veces es algo superior a 1,0 debido a la forma en que los números de coma flotante se almacenan en la base 2 (no hay 0,1, el número real almacenado es sólo ligeramente más grande). Esto no es perfecto, pero funciona en la mayoría de los casos. Si quiere evitar este problema, utilice números reales racionales, por ejemplo: </p><pre class="programlisting">for x = 0 to 1 by 1/10 do print(x)
</pre><p> Esta comprobación se realiza únicamente desde la versión 1.0.16 en adelante, por lo que la ejecución del código puede variar en versiones anteriores.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="genius-gel-loops-foreach"></a>Bucles «foreach»</h3></div></div></div><p>Sintaxis: </p><pre class="programlisting">for &lt;identifier&gt; in &lt;matrix&gt; do &lt;body&gt;</pre><p> ejecuta el cuerpo del bucle para cada uno de los elementos de la matriz recorriendo ésta fila por fila y de izquierda a derecha. Para imprimir los números 1, 2, 3 y 4 en este orden se podría hacer lo siguiente: </p><pre class="programlisting">for n in [1,2:3,4] do print(n)
</pre><p> Si desea recorrer las filas y columnas de una matriz puede usar las funciones RowsOf y ColumnsOf que devuelven un vector de filas o columnas de la matriz. Por lo tanto, </p><pre class="programlisting">for n in RowsOf ([1,2:3,4]) do print(n)
</pre><p> imprimirá <code class="literal">[1,2]</code> y después <code class="literal">[3,4]</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="genius-gel-loops-break-continue"></a>Parar y continuar</h3></div></div></div><p>También puede utilizar los comandos <code class="literal">break</code> y <code class="literal">continue</code> en un bucle. El comando <code class="literal">continue</code> reinicia el bucle actual en la siguiente iteración, mientras que el comando <code class="literal">break</code> sale del bucle actual. </p><pre class="programlisting">while(&lt;expression1&gt;) do (
  if(&lt;expression2&gt;) break
  else if(&lt;expression3&gt;) continue;
  &lt;expression4&gt;
)
</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch06.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch06.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch06s03.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Capítulo 6. Programar con GEL </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Sumas y productos</td></tr></table></div></body></html>
